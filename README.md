# CS-6493-LLM-Application-with-LangChain
## ğŸ§  Financial Agent Framework: AI-Driven Report Generation & Evaluation


This project introduces a **custom-designed Financial Agent system** built to generate, refine, and evaluate stock analysis reports using large language models (LLMs). Our agents handle both **Chinese A-share** and **US stock** markets, and are designed to be **modular**, **extensible**, and **evaluation-ready**.

ğŸ”— **Built on**: LangChain-Chatchat  
ğŸš€ **Enhanced with**: Custom Agents, Optimizers, and LLM Judge  
ğŸ“Š **Evaluates with**: LLMBox (extended for multi-model financial benchmarking)

---

## ğŸ”¥ Highlight: Our Financial Agents

At the heart of the project lies our **Financial Agent** system:

| Agent Type       | Description                                                                 |
|------------------|-----------------------------------------------------------------------------|
| `AStock Agent`   | Analyzes China A-share stocks, fetching historical data, indicators, charts |
| `USStock Agent`  | Handles U.S. stocks with similar processing pipelines                        |
| `OPT Agent`      | Refines raw LLM-generated reports into higher-quality financial insights     |

Each Agent follows a structured pipeline:
1. ğŸ“¥ **Data Gathering**: Crawl price and financial data
2. ğŸ§¾ **Report Generation**: Use prompts + LLMs to write market analysis
3. âœï¸ **Report Optimization**: OPT Agent improves fluency and structure
4. ğŸ“ˆ **Evaluation**: LLM Judge benchmarks across different LLMs

All agents are implemented under the [`Fin_Agent/`](./Fin_Agent) directory.

---

## ğŸ§± Project Structure

. â”œâ”€â”€ Fin_Agent/ # ğŸ’¡ Core Financial Agent system 
â”‚ â”œâ”€â”€ AStock.py # A-share agent 
â”‚ â”œâ”€â”€ USStock.py # US stock agent 
â”‚ â”œâ”€â”€ finreport_opt.py # OPT Agent for refining LLM reports 
â”‚ â””â”€â”€ ... # Reports, backups, visuals 
â”œâ”€â”€ Chatbot/ # ğŸ—¨ï¸ LangChain-based dialogue logic 
â”œâ”€â”€ Langchain-Chatchat/ # UI & chat backend (third-party) 
â”œâ”€â”€ LLMBox/ # ğŸ“Š LLM evaluator (extended from open-source) 
â”œâ”€â”€ docs/NLP/ # ğŸ“ LLM Judge for report evaluation 
â””â”€â”€ README.md

---

## ğŸ“Š LLM Judge for Financial Reports

Located under [`docs/NLP`](./docs/NLP), the **LLM Judge** module allows structured evaluation of reports generated by different models.

- Compare **two or more markdown reports**
- Use **reference data** for grounding
- Output **evaluation reports** (clarity, factual consistency, financial relevance)

---

## âš™ï¸ LangChain Integration

The system integrates with [LangChain-Chatchat](https://github.com/chatchat-space/Langchain-Chatchat) to support:
- Web-based conversational interaction
- Real-time Q&A about financial markets
- Embedding our **Financial Agents** inside a flexible chatbot UI

---

## ğŸ§ª LLMBox: Benchmarks Extended

We include a customized version of [LLMBox](https://github.com/RUCAIBox/LLMBox) to test LLMs on various tasks.

- Evaluate models like GPT-4, DeepSeek, Gemini, etc.
- Benchmark with MT-Bench, QuAC, GPTEval, and custom datasets
- Added support for more APIs

---

## ğŸ“ Sample Artifacts

- âœ… CSVs with historical prices
- âœ… Visualizations (`*.png`)
- âœ… Raw reports from different models
- âœ… Refined reports via OPT Agent
- âœ… Evaluation markdown from LLM Judge

---


## ğŸ§‘â€ğŸ’» Contributors & Acknowledgments

This work builds upon the foundations of:
- [LangChain](https://github.com/langchain-ai/langchain)
- [LangChain-Chatchat](https://github.com/chatchat-space/Langchain-Chatchat)
- [LLMBox](https://github.com/RUCAIBox/LLMBox)

---

## ğŸ“„ License

Distributed under the [MIT License](./LICENSE).

---

ğŸ’¬ Feel free to open issues, ask questions, or contribute ideas!